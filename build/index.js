(()=>{"use strict";var e,t={910:()=>{const e=window.wp.blocks,t=window.wp.i18n,l=window.wp.blockEditor,s=window.wp.components,r=window.wp.data,n=window.ReactJSXRuntime;(0,e.registerBlockType)("jww/latest-song",{edit:({attributes:e,setAttributes:i})=>{const{showTitle:o,showVideo:a,titleLevel:d,categories:h}=e,w=(0,l.useBlockProps)(),c=(0,r.useSelect)(e=>e("core").getEntityRecords("taxonomy","category",{per_page:-1,orderby:"name",order:"asc"}),[]),m=(0,r.useSelect)(e=>{const t={per_page:1,orderby:"date",order:"desc",meta_query:[{key:"video",value:"",compare:"NOT EMPTY"}]};return h&&h.length>0&&(t.categories=h.join(",")),e("core").getEntityRecords("postType","song",t)},[h]);return(0,n.jsxs)("div",{...w,children:[(0,n.jsxs)(l.InspectorControls,{children:[(0,n.jsxs)(s.PanelBody,{title:(0,t.__)("Display Options","jww-theme"),children:[(0,n.jsx)(s.ToggleControl,{label:(0,t.__)("Show Title","jww-theme"),checked:o,onChange:e=>i({showTitle:e})}),(0,n.jsx)(s.ToggleControl,{label:(0,t.__)("Show Video","jww-theme"),checked:a,onChange:e=>i({showVideo:e})}),o&&(0,n.jsx)(s.RangeControl,{label:(0,t.__)("Title Level","jww-theme"),value:d,onChange:e=>i({titleLevel:e}),min:1,max:6})]}),(0,n.jsxs)(s.PanelBody,{title:(0,t.__)("Category Filter","jww-theme"),initialOpen:!1,children:[(0,n.jsx)("p",{children:(0,t.__)("Select categories to filter songs. Leave empty to show from all categories.","jww-theme")}),c&&c.map(e=>(0,n.jsx)(s.CheckboxControl,{label:e.name,checked:!!h&&h.includes(e.id.toString()),onChange:t=>{const l=h||[];let s;s=t?[...l,e.id.toString()]:l.filter(t=>t!==e.id.toString()),i({categories:s})}},e.id))]})]}),(0,n.jsxs)("div",{className:"latest-song-preview",children:[(0,n.jsx)("h3",{children:(0,t.__)("Latest Song Preview","jww-theme")}),h&&h.length>0&&(0,n.jsxs)("div",{className:"preview-categories",children:[(0,n.jsxs)("strong",{children:[(0,t.__)("Filtering by categories:","jww-theme")," "]}),c&&h.map(e=>{const t=c.find(t=>t.id.toString()===e);return t?t.name:e}).join(", ")]}),m&&m.length>0?(0,n.jsxs)("div",{children:[o&&(0,n.jsx)("div",{className:"preview-title",children:m[0].title.rendered}),a&&(0,n.jsx)("div",{className:"preview-video",children:(0,n.jsx)("em",{children:(0,t.__)("Video embed will appear here","jww-theme")})})]}):(0,n.jsx)("p",{children:(0,t.__)("No songs found","jww-theme")})]})]})},save:()=>null}),(0,e.registerBlockType)("jww/album-covers",{edit:({attributes:e,setAttributes:i})=>{const{releases:o,postsPerPage:a,orderBy:d,order:h,showTitle:w,title:c,titleLevel:m}=e,j=(0,l.useBlockProps)(),p=(0,r.useSelect)(e=>e("core").getEntityRecords("taxonomy","release",{per_page:-1,orderby:"name",order:"asc"}),[]),_=(0,r.useSelect)(e=>{const t={per_page:-1===a?10:a,orderby:d,order:h.toLowerCase(),post_type:"album"};return o&&o.length>0&&(t.release=o.join(",")),e("core").getEntityRecords("postType","album",t)},[o,a,d,h]);return(0,n.jsxs)("div",{...j,children:[(0,n.jsxs)(l.InspectorControls,{children:[(0,n.jsxs)(s.PanelBody,{title:(0,t.__)("Title Options","jww-theme"),initialOpen:!0,children:[(0,n.jsx)(s.ToggleControl,{label:(0,t.__)("Show Title","jww-theme"),checked:w,onChange:e=>i({showTitle:e})}),w&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.TextControl,{label:(0,t.__)("Title Text","jww-theme"),value:c,onChange:e=>i({title:e}),help:(0,t.__)('Leave empty to use default "Appears on:" text',"jww-theme")}),(0,n.jsx)(s.RangeControl,{label:(0,t.__)("Title Level","jww-theme"),value:m,onChange:e=>i({titleLevel:e}),min:1,max:6})]})]}),(0,n.jsxs)(s.PanelBody,{title:(0,t.__)("Filter Options","jww-theme"),initialOpen:!1,children:[(0,n.jsx)("p",{children:(0,t.__)("Select release types to filter albums. Leave empty to show all albums.","jww-theme")}),p&&p.map(e=>(0,n.jsx)(s.CheckboxControl,{label:e.name,checked:!!o&&o.includes(e.id.toString()),onChange:t=>{const l=o||[];let s;s=t?[...l,e.id.toString()]:l.filter(t=>t!==e.id.toString()),i({releases:s})}},e.id))]}),(0,n.jsxs)(s.PanelBody,{title:(0,t.__)("Display Options","jww-theme"),initialOpen:!1,children:[(0,n.jsx)(s.RangeControl,{label:(0,t.__)("Number of Albums","jww-theme"),value:a,onChange:e=>i({postsPerPage:e}),min:-1,max:50,help:(0,t.__)("Set to -1 to show all albums","jww-theme")}),(0,n.jsx)(s.SelectControl,{label:(0,t.__)("Order By","jww-theme"),value:d,options:[{label:(0,t.__)("Date","jww-theme"),value:"date"},{label:(0,t.__)("Title","jww-theme"),value:"title"},{label:(0,t.__)("Menu Order","jww-theme"),value:"menu_order"},{label:(0,t.__)("Random","jww-theme"),value:"rand"}],onChange:e=>i({orderBy:e})}),(0,n.jsx)(s.SelectControl,{label:(0,t.__)("Order","jww-theme"),value:h,options:[{label:(0,t.__)("Descending","jww-theme"),value:"DESC"},{label:(0,t.__)("Ascending","jww-theme"),value:"ASC"}],onChange:e=>i({order:e})})]})]}),(0,n.jsxs)("div",{className:"album-covers-preview",children:[(0,n.jsx)("h3",{children:(0,t.__)("Album Covers Preview","jww-theme")}),w&&(0,n.jsxs)("div",{className:"preview-title",children:[(0,n.jsxs)("strong",{children:[(0,t.__)("Title:","jww-theme")," "]}),c||(0,t.__)("Appears on:","jww-theme"),(0,n.jsxs)("small",{children:[" (H",m,")"]})]}),o&&o.length>0&&(0,n.jsxs)("div",{className:"preview-releases",children:[(0,n.jsxs)("strong",{children:[(0,t.__)("Filtering by releases:","jww-theme")," "]}),p&&o.map(e=>{const t=p.find(t=>t.id.toString()===e);return t?t.name:e}).join(", ")]}),_&&_.length>0?(0,n.jsxs)("div",{className:"preview-albums",children:[(0,n.jsx)("p",{children:(0,n.jsxs)("strong",{children:[(0,t.__)("Found","jww-theme")," ",_.length," ",(0,t.__)("album(s)","jww-theme")]})}),(0,n.jsxs)("div",{className:"preview-album-list",children:[_.slice(0,3).map(e=>(0,n.jsxs)("div",{className:"preview-album",children:[(0,n.jsx)("strong",{children:e.title.rendered}),(0,n.jsx)("br",{}),(0,n.jsxs)("small",{children:[(0,t.__)("ID:","jww-theme")," ",e.id]})]},e.id)),_.length>3&&(0,n.jsx)("div",{className:"preview-more",children:(0,n.jsxs)("em",{children:["+ ",_.length-3," ",(0,t.__)("more albums...","jww-theme")]})})]})]}):(0,n.jsx)("p",{children:(0,t.__)("No albums found","jww-theme")})]})]})},save:()=>null})}},l={};function s(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,l,r,n)=>{if(!l){var i=1/0;for(h=0;h<e.length;h++){for(var[l,r,n]=e[h],o=!0,a=0;a<l.length;a++)(!1&n||i>=n)&&Object.keys(s.O).every(e=>s.O[e](l[a]))?l.splice(a--,1):(o=!1,n<i&&(i=n));if(o){e.splice(h--,1);var d=r();void 0!==d&&(t=d)}}return t}n=n||0;for(var h=e.length;h>0&&e[h-1][2]>n;h--)e[h]=e[h-1];e[h]=[l,r,n]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={600:0,696:0};s.O.j=t=>0===e[t];var t=(t,l)=>{var r,n,[i,o,a]=l,d=0;if(i.some(t=>0!==e[t])){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(a)var h=a(s)}for(t&&t(l);d<i.length;d++)n=i[d],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(h)},l=globalThis.webpackChunkjww_theme=globalThis.webpackChunkjww_theme||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=s.O(void 0,[696],()=>s(910));r=s.O(r)})();